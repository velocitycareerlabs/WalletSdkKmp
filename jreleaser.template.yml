# This file is Mustache-templated by JReleaser. Values come from env vars:
#   SDK_NAME         (artifactId / distribution name, e.g. velocityexchangeverifiers)
#   SDK_DIR          (module directory, e.g. velocityexchangeverifiers)
#   MAVEN_GROUP_ID   (groupId, e.g. io.velocitycareerlabs)
#   MAVEN_GROUP_PATH (groupId with slashes, e.g. io/velocitycareerlabs)
#   RELEASE_REPO     (GitHub repo name for releases, e.g. WalletSdkKmp)

project:
  # Drives bundle name: <groupId>-<project.name>-<version>-bundle.zip
  name: "{{env.SDK_NAME}}"
  # version comes from JRELEASER_PROJECT_VERSION (set in the workflow)
  description: "Velocity Career Labs SDK"
  authors:
    - "Michael Avoyan"
  inceptionYear: 2025
  license: "Apache-2.0"
  links:
    homepage: "https://github.com/velocitycareerlabs"
  languages:
    java:
      groupId: "{{env.MAVEN_GROUP_ID}}"
      artifactId: "{{env.SDK_NAME}}"
  extraProperties:
    displayName: "Velocity Career Labs Android SDK"

signing:
  active: ALWAYS
  armored: true
  mode: MEMORY
  # Keys & passphrase provided via env in the workflow:
  # JRELEASER_GPG_PUBLIC_KEY, JRELEASER_GPG_SECRET_KEY, JRELEASER_GPG_PASSPHRASE

release:
  github:
    owner: "velocitycareerlabs"
    name: "{{env.RELEASE_REPO}}"
    # token:       JRELEASER_GITHUB_TOKEN
    # tagName:     JRELEASER_TAG_NAME
    # releaseName: JRELEASER_RELEASE_NAME
    sign: true
    prerelease:
      enabled: true
      # pattern:   JRELEASER_PRERELEASE_PATTERN

# Use stable keys; values are fully env-driven
distributions:
  {{env.SDK_NAME}}:
    type: BINARY
    artifacts:
  # Staged artifacts prepared by Gradle:
  # <SDK_DIR>/target/staging-deploy/<groupPath>/<artifactId>/<version>/**
  - path: "{{env.SDK_DIR}}/target/staging-deploy/{{env.MAVEN_GROUP_PATH}}/{{env.SDK_NAME}}/**"

deploy:
  maven:
    mavenCentral:
      main:
        active: ALWAYS
      url: "https://central.sonatype.com/api/v1/publisher"
      # username: JRELEASER_MAVENCENTRAL_USERNAME
      # password: JRELEASER_MAVENCENTRAL_PASSWORD
      # stage:    JRELEASER_MAVENCENTRAL_STAGE
      authorization: BASIC
      sign: true
      checksums: true
      sourceJar: true
      javadocJar: true
      verifyPom: false
      stagingRepositories:
        - "{{env.SDK_DIR}}/target/staging-deploy"
